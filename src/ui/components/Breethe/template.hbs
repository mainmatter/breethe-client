<div data-test-breethe data-has-ssr-response={{appState.isSSR}}>
  {{#if showOfflineWarning}}
    <p class="offline-warning" data-test-offline-warning>
      You appear to be offline - searching for locations is available online only.
    </p>
  {{/if}}

  {{#if isSearchMode}}
    <Search
      @searchTerm={{searchTerm}}
      @coordinates={{coordinates}}
      @store={{store}}
      @router={{router}}
      @isSSR={{appState.isSSR}}
      @isOnline={{isOnline}}
      @pullIndexedDB={{pullIndexedDB}}
      @searchResults={{searchResults}}
      @locationNotFound={{locationNotFound}}
      @updateFogEffect={{action updateFogEffect}}
    />
  {{else if isResultsMode}}
    <Location
      @locationId={{locationId}}
      @store={{store}}
      @localStore={{local}}
      @router={{router}}
      @isSSR={{appState.isSSR}}
      @pullIndexedDB={{pullIndexedDB}}
      @updateFogEffect={{action updateFogEffect}}
    />
  {{/if}}

  <FogBackground @intensity={{fogIntensity}} @isSSR={{appState.isSSR}} />

  <footer class="footer">
    built by
    <a href="https://mainmatter.com" class="mainmatter-link">Mainmatter</a>,
    data from <a href="https://openaq.org" class="openaq-link">openaq.org</a>
  </footer>
</div>
